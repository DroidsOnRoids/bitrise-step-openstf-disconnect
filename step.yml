title: |-
  OpenSTF Disconnect
summary: |
  Disconnects from devices previously connected using Open STF Connect step
description: |
  Disconnects from devices previously connected using Open STF Connect step
  This step has to be inserted after Android instrumention and/or UI tests.
  It is recommended to set this step to be run always, even if previous step(s) failed to ensure that devices will be released.
  Otherwise they will be occupied until usage timeout exceeds. This setting is enabled by default.
website: https://github.com/DroidsOnRoids/bitrise-step-openstf-disconnect
source_code_url: https://github.com/DroidsOnRoids/bitrise-step-openstf-disconnect
support_url: https://github.com/DroidsOnRoids/bitrise-step-openstf-disconnect/issues

project_type_tags:
   - android
   - xamarin
   - react-native
   - cordova
   - ionic

type_tags:
  - test

is_requires_admin_user: false
is_always_run: true
is_skippable: false
run_if: ""

toolkit:
  go:
    package_name: github.com/DroidsOnRoids/bitrise-step-openstf-disconnect

inputs:
  - stf_host_url:
    opts:
      title: STF Host URL
      description: |
        URL of your STF instance e.g. `https://stf.example.com`
      is_required: true
      is_expand: true

  - stf_access_token:
    opts:
      title: STF API access token
      description: |
        STF API access token. Go to `Settings->Keys` on your STF web UI to generate one.
        Read more about tokens in [OpenSTF API documentation](https://github.com/openstf/stf/blob/master/doc/API.md#authentication).
      is_required: true
      is_expand: true

  - stf_device_serial_list: $STF_DEVICE_SERIAL_LIST
    opts:
      title: Connected devices serials
      description: |
        List of serials in JSON string array format generated by Open STF Connect step.
        Empty input is treated like empty array.
      is_required: true
      is_expand: true

